<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  # No reescribir /api/ a index.html (el PHP debe estar en /api/ en el servidor)
  RewriteRule ^api/ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [L]
</IfModule>

<IfModule mod_headers.c>
  Header set X-Powered-By "Hostinger Horizons"

  # Por defecto NO cachear: evita que CDN/browser sirvan la build vieja (index.html).
  Header set Cache-Control "no-cache, no-store, must-revalidate"
  Header set Pragma "no-cache"

  # Cache largo solo para /assets/ (tienen hash; cada build genera nombres nuevos)
  <If "%{REQUEST_URI} =~ m#^/assets/.*$#">
    Header set Cache-Control "public, max-age=31536000"
  </If>
</IfModule>
